"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseConfig = void 0;
const zod_1 = require("zod");
const projectSchema = zod_1.z.object({
    name: zod_1.z.string(),
    path: zod_1.z.string(),
    output: zod_1.z.string(),
    contracts: zod_1.z.array(zod_1.z.string()).optional(),
    parameters: zod_1.z.object({
        debug: zod_1.z.boolean().optional()
    }).strict().optional(),
    experimental: zod_1.z.object({
        inline: zod_1.z.boolean().optional()
    }).strict().optional()
}).strict();
const configSchema = zod_1.z.object({
    projects: zod_1.z.array(projectSchema)
}).strict();
function parseConfig(src) {
    let parsed = JSON.parse(src);
    return configSchema.parse(parsed);
}
exports.parseConfig = parseConfig;
